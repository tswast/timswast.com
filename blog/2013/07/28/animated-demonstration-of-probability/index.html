<!DOCTYPE html>
<html>
    <head>
        <title>A demonstration of the law of large numbers</title>
        <title>Creating a new form of digital ownership</title>
        <link rel="stylesheet" type="text/css" href="../../../../2012/blog.css" />
        <meta name="viewport" content="initial-scale=1">
        <style>
            img {
                max-width: 100%;
                display: block;
            }
        </style>
    </head>
    <body>

        <div id="content-header">
            <a href="">
                <h1>A demonstration of the law of large numbers</h1>
            </a>
            <span class="post-date">Sunday, July 28, 2013</span>
        </div>

        <h1>What is randomness?</h1>
        <p>
            Random is part of our everyday language. We say something is random when it is unpredictable, unexpected, or out of the ordinary. Mathematics provides a framework for understanding some of these unpredictable events called <em>probability theory</em>.
        </p>

        <h2>Can I get an example?</h2>
        <p>
            Dice, cards, coin flips, spinners are common examples of randomizing tools we use in board games and gambling. We use them <em>because</em> they are unpredictable. A fair, six-sided dice will generate a number from one to six with an equal probability of each number. Similarly, we consider coin flip to be fair if there is an equal probability of arriving at heads or tails.
        </p>

        <img src="coin_flip.gif" alt="an example of a sequence of coin flips.">

        <p>
            This sequence was generated by a simulated fair coin using Matlab. I use the rand() method to generate coin flips of any probability for heads in <a href="coin_flip.m">coin_flip.m</a>
        </p>

        <pre><code>EDU>> coin_flip
enter p, the probability of heads (-1 to exit): 0.5
enter t, the total number of trials: 16
</code></pre>

        <h2>That didn't look random to me.</h2>
        <p>
            Note that even though there are some long sequences of tails in the text example, each coin flip is independent from all other coin flips. There may be short sequences that may not match expectations, but in the long run there will be half heads and half tails. This chart shows the proportion of heads over a sequence of 800 fair coin flips.
        </p>

        <img src="probability_measure.gif" alt="in the long run, the proportion of heads matches the probability.">

        <p>
            This is actually a way of defining the probability of an event for a given system. An event <em>E</em> is said have a probability <em>P[E] = p</em> if it appears with proportion <em>p</em> in as the sequence generated by the system grows to infinite length.
        </p>

        <aside>(Those who have taken Texas A&amp;M Math 614, Dynamical Systems and Chaos, may recognize this as very similar to the <em>fraction</em> of iterates of an orbit lying in a set, as part of the <em>natural measure</em> definition. Probabilities are also defined as a natural measure, but a measure of system containing random variables.)</aside>



        <h1>Let's play a game.</h1>
        <p>
            Flip a coin. If it is heads, I pay you $1. If it is tails you pay me $1. What does your bank account look like with such a game?
        </p>

        <img src="random_walk.gif" alt="the random walk of your monies.">
        <p>
            The path your bank account takes follows a <a href="random_walk_automatic.m">random walk.</a>
        </p>
        <pre><code>EDU>> random_walk_automatic
enter p, the probability of heads (-1 to exit): 0.5
enter t, the total number of trials: 100</code></pre>

        <p>
            Looking at this example of 100 coin flips, it is hard to say much. It seems intuitive that since you and I have the same chance of winning with each step, in the long run it should be effectively even. This brings us to the idea of <em>expected value.</em>
        </p>


        <h2>We expect what, exactly?</h2>
        <p>
            Since we have assigned values to different events, $1 for heads and $-1 for tails, we can ask "What is average value?" That is, if we repeated this game for a long time, what would be the average change of money be per game? For any finite number of coin flips, this average is called the <em>sample average.</em>
        </p>

        <p>
            There is a theorem called <em>the law of large numbers.</em> The gist of it is that as the number of flips increases, the <em>sample average</em> will get closer and closer to something called the <em>expected value</em>. For a coin flip, we calculate the expected value by <em>(1)(p) + (-1)(1-p).</em>
        </p>

        <p>
            To calculate expected value for discrete events, like dice rolls and coin flips, we multiply the value by the probability and add up all possibilities.
        </p>
        <img src="law-of-large-numbers-discrete.png" alt="\sum_S v_s P[S]">
        <p>
            So, for our example, we have <em>(1)(.5) + (-1)(.5),</em> which equals <em>0.</em> That means, if we do a long enough experiment, the average value each coin flip should be about <em>0.</em>
        </p>
        <img src="large_numbers.gif" alt="large numbers, goes to zero.">
        <pre><code>EDU>> large_numbers
enter p, the probability of heads (-1 to exit): 0.5
enter t, the total number of trials: 800
enter the value associated with heads: 1
enter the value associated with tails: -1</code></pre>

        <p>
            You can experiment with different probabilies, numbers of trials, and values with <a href="large_numbers.m">large_numbers.m</a>. For example, we can measure probabilies using the law of large numbers with what is called a <em>flag function. Set the value to 1 for the event you want to measure, e.g. heads and set the value to 0 for all other events.</em>
        </p>
        <pre><code>EDU>> large_numbers
enter p, the probability of heads (-1 to exit): 0.5
enter t, the total number of trials: 800
enter the value associated with heads: 1
enter the value associated with tails: 0</code></pre>


    <footer>
        <p>
            This post was created as part of a project for
            <a href="http://www.math.tamu.edu/~mpilant/math696/Summer-2013-Syllabus.html">
                Texas A&amp;M Math 696.
            </a>
        </p>

      <aside>Released under <a href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike License</a>.</aside>
      Copyright 2013, <a href="/" rel="author">Tim Swast</a>. All rights reserved.
    </footer>


