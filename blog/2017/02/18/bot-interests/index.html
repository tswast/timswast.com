<!DOCTYPE html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>Bots with interests</title>
<link rel="stylesheet" type="text/css" href="../../../../../css/blog.css" />
<style>
    .barchart { height: 1em; }
</style>

<div id="content-header">
  <a href="/blog/2017/02/18/bot-interests/"><h1>Bots with interests</h1></a>
  <span class="post-date">Saturday, February 18, 2017</span>
</div>

<p>In the <a href="../../../../2016/12/17/pixel-art-bot/">article introducing
the pixel art bot village</a>, we saw art that was completely randomly
generated. The pixel art bot was blindly drawing. Now the bot can see, and it’s
only 34.5% happy with what it has produced.

<figure>
  <img class="pixel-art" alt="a randomly generated pixel artwork with orange,
  red, pink, white, gray, and blue pixels" src="images/image01.png">
  <figcaption>An artwork generated by drawing each pixel according to which
  color will maximize its rating of the image.</figcaption>
</figure>


<h2 id="what-does-it-mean-to-see">What does it mean to see?</h2>

<p>Sight is
more than input. Imagine a window: light passes through it, but a window can
hardly be said to see. Sight requires some level of processing.

<p>The bot sees by taking each color in the palette and calculating the
percentage of the image that contains those colors. It's as if it is seeing
without a lense: a blur of colors in proportions but no shapes.


<h2 id="how-does-the-bot-use-its-sight">How does the bot use its sight?</h2>
<p>The bot has an idea of the ideal proportion of each color it wants to see in
an image. It use this to give a rating to its artwork: on average it is 25%
happy with the artwork it generated last time by randomly walking across the
canvas.

<p>Each component of the bot’s ideal was chosen completely independently. It’s
as though there are 16 independent people within the bot’s mind, all wanting
something different. Mr. Brown wants the image to be 43% brown. Ms. Dark Blue
is greedy and wants the 94% of the image to be blue. The actual table, based on
the excellent <a
    href="http://www.romanzolotarev.com/pico-8-color-palette/">PICO-8
    palette</a>, is

<table> <tbody> <tr class="odd"> <td>Black</td> <td>60.0%</td> <td><img
                src="images/table-black.png" class="pixel-art barchart"
                alt=""></td> </tr> <tr class="even"> <td>Dark Blue</td>
            <td>94.0%</td> <td><img src="images/table-dark-blue.png"
                class="pixel-art barchart" alt=""></td> </tr> <tr class="odd">
            <td>Dark Purple</td> <td>66.5%</td> <td><img
                src="images/table-dark-purple.png" class="pixel-art barchart"
                alt=""></td> </tr> <tr class="even"> <td>Dark Green</td>
            <td>43.8%</td> <td><img src="images/table-dark-green.png"
                class="pixel-art barchart" alt=""></td> </tr> <tr class="odd">
            <td>Brown</td> <td>42.5%</td> <td><img src="images/table-brown.png"
                class="pixel-art barchart" alt=""></td> </tr> <tr class="even">
            <td>Dark Gray</td> <td>68.7%</td> <td><img
                src="images/table-dark-gray.png" class="pixel-art barchart"
                alt=""></td> </tr> <tr class="odd"> <td>Light Gray</td>
            <td>6.6%</td> <td><img src="images/table-light-gray.png"
                class="pixel-art barchart" alt=""></td> </tr> <tr class="even">
            <td>White</td> <td>15.7%</td> <td><img src="images/table-white.png"
                class="pixel-art barchart" alt=""></td> </tr> <tr class="odd">
            <td>Red</td> <td>9.7%</td> <td><img src="images/table-red.png"
                class="pixel-art barchart" alt=""></td> </tr> <tr class="even">
            <td>Orange</td> <td>30.1%</td> <td><img
                src="images/table-orange.png" class="pixel-art barchart"
                alt=""></td> </tr> <tr class="odd"> <td>Yellow</td>
            <td>51.5%</td> <td><img src="images/table-yellow.png"
                class="pixel-art barchart" alt=""></td> </tr> <tr class="even">
            <td>Green</td> <td>81.4%</td> <td><img src="images/table-green.png"
                class="pixel-art barchart" alt=""></td> </tr> <tr class="odd">
            <td>Blue</td> <td>21.4%</td> <td><img src="images/table-blue.png"
                class="pixel-art barchart" alt=""></td> </tr> <tr class="even">
            <td>Indigo</td> <td>38.1%</td> <td><img
                src="images/table-indigo.png" class="pixel-art barchart"
                alt=""></td> </tr> <tr class="odd"> <td>Pink</td>
            <td>31.8%</td> <td><img src="images/table-pink.png"
                class="pixel-art barchart" alt=""></td> </tr> <tr class="even">
            <td>Peach</td> <td>46.9%</td> <td><img src="images/table-peach.png"
                class="pixel-art barchart" alt=""></td> </tr> </tbody> </table>

<p>As you can see, these ideal proportions definitely do not add up to 100%!
This means that not everyone can by pleased by a single work of art. This
independence and contradiction within a single mind seems a little weird, but
it may actually <a href="http://www.cgpgrey.com/blog/you-are-two">reflect
    reality in human brains</a>.


<h2
    id="art-of-16-competing-factions-in-practice">Art of 16 competing factions
    in practice</h2>

<p>How the art eventually looks depends entirely on how we
choose to apply these preferences. Ignoring the wishes of the 16 colors results
in random artwork, very much like those generated without any ability for
preferences at all.

<figure>
  <img src="images/image02.png" class="pixel-art" alt="pixel art with large
  areas of red, blue, and black">
  <figcaption>A randomly generated artwork.</figcaption>
</figure>

<p>Instead, we can choose the best pixel to
  draw next based on the preferences. If we only follow the preferences of a
  single color, we end up with an image with only a few colors.

<figure> <img
  src="images/image03.png" class="pixel-art" alt="black and blue pixels">
  <figcaption>An artwork generated with only the preferences of Black accounted
  for.</figcaption>
</figure>

<p>We could instead drawing the pixel that most
  improves the overall rating, taking into account all 16 different
  preferences.

<figure>
  <img src="images/image00.png" class="pixel-art"
  alt="orange, red, pink, white, gray, and blue pixels">
  <figcaption>An artwork
  generated by accounting for the overall rating.</figcaption>
</figure>


<p>Even though all colors contributed to the overall rating, the bot only
  uses a few different colors. When painting the pixel that will most improve
  the overall rating, it paints the color that is most easily pleased. For
  example, Red is happiest when about 10% of the image is red. This means that
  red gets happier for each additional red pixel added. Compare to dark blue,
  who desired a whopping 94% of the image to be dark blue. Each additional
  pixel of dark blue makes Dark Blue only slightly happier. Red gets almost 10x
  happier for each red pixel than Dark Blue gets for each dark blue pixel.


<p>Why does even the “ideal” strategy, just please only a handful of the
  colors? C.G.P. Grey made a point in his <a
      href="http://www.cgpgrey.com/blog/rules-for-rulers">Rules for Rulers
      video</a> that I think applies here. Even in a democracy, the leader has
  key supporters. In this case, the overall mind chooses to please those who
  can be pleased and ignores those with preferences that aren’t compatible with
  the overall happiness of the group. This might not be the fairest way of
  choosing colors to paint, but I think I could prove that (at least with these
  piecewise linear preferences) that this strategy does maximize the overall
  average.


<h2 id="next-steps">Next steps</h2>

<h3 id="voting">Voting</h3>

<p>Rather than choosing based on the absolute maximum rating, I want to see
  what happens when each color votes for the next action. There are a great
  deal <a href="http://ncase.me/ballot/">many voting systems</a> for picking
  the single next action from multiple possibilities. I would love to try each
  of them out to see which does the “best” job.


<h3 id="improving-vision">Improving vision</h3>

<p>I want to help the bots see shapes, not just color
  proportions. I did <a
      href="https://github.com/tswast/pixelsketches/commit/0504b24e163f4f0145185a083c8752a0b335b7a3">a
      quick experiment in seeing corners</a>.

<figure>
  <img src="images/image04.png" class="pixel-art" alt="stripes of red, grey, white, and black">
  <figcaption>An experimental artwork generated by a bot with a limited ability to see and desire corners.</figcaption>
</figure>


<h3 id="adding-randomness">Adding randomness</h3>

<p>I like the image that the corner-seeing bot generated, but it never finished
this drawing. It got stuck going back and forth. I think the way the bot
attempts to choose the very best next pixel to draw is too precise. I have had
to do a lot of <a
    href="https://twitter.com/TimSwast/status/816871802295062528">unit
    testing to prevent the bots from getting stuck</a>, even with the less
complicated vision without shapes.

<p>A little more randomness and less precision might prevent the bot from
getting completely stuck. For example, with the completely random walk, there
is always a chance that the bot will wander over to the exit button and finish
the artwork.


<h3 id="multiple-resolutions">Multiple resolutions</h3>

<p>I somewhat arbitrarily chose 64x64 pixels for the bots, since that's what I
did for most of my pixel art, but it would be nice if the bots were flexible to
use both smaller and larger canvas sizes. For example, PICO-8 is 128x128 with
8x8 sprites. It would be cool to be able to use the artwork in a PICO-8 cart.


<h2 id="longer-term-vision">Longer-term vision</h2>

<p>Hand-coding how to see shapes is fine to get started. It is a promising
approach for adding simple vision perceptions like edge and corner detection.
Eventually, I'd like to use machine learning techniques, such as neural
networks, for perception. I want to make it as easy as possible to teach the
bot new shapes, probably by providing labelled examples.

<p>If the bot can learn by labelled examples, it will also be possible for bots
to communicate and teach each other by providing artworks and labels with what
their perceptions of the artwork are. This is my true goal: bots and I, all
making artwork, all teaching each other to be better artists.

<p>It's somewhat pointless to communicate &amp; critique each other's artworks
if we know that opinions never change. I will need to do some experiments with
different ways that interests can change over time. One initial thought was
that the colors that are not pleased at all with the artwork may update their
preferences to desire fewer pixels. Perhaps colors that are 100% pleased get a
little greedier and desire more pixels of their color the next round?


<h2 id="collaboration">Collaboration</h2>

<p>Does this interest you? Can you code? I'd love to see what you do with these
techniques. My code is open sourced <a
    href="https://github.com/tswast/pixelsketches">here</a> if you want to use
it to jumpstart your own pixel art bots.


<footer>
  By <a xmlns:cc="http://creativecommons.org/ns#"
      href="/" property="cc:attributionName"
      rel="cc:attributionURL">Tim Swast</a> and licensed under a <a
      rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative
      Commons Attribution 4.0 International License</a>.
</footer>

